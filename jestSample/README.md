## èª²é¡Œ 1

ãªã—

## èª²é¡Œ 2

https://github.com/axtx4869/praha-challenge-templates/pull/1/commits/2bd058ec16a83f8b6b42a38928cf085d6de10765

https://github.com/axtx4869/praha-challenge-templates/pull/1/commits/4c6b78112fb650e0e865d7beeca78eba692752f4

â€»nameApiService.ts ã®å˜ä½“ãƒ†ã‚¹ãƒˆã¯å®Ÿè£…é€”ä¸­ã§ã™ ðŸ™‡â€â™‚ï¸

## èª²é¡Œ 3

### ã‚«ãƒãƒ¬ãƒƒã‚¸ 100%ã®ãƒ†ã‚¹ãƒˆãŒæ›¸ã‘ãªã‹ã£ãŸç†ç”±

å…ƒã€…ã®é–¢æ•°ã§ã¯é–¢æ•°å†…éƒ¨ã§å¤–éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã‚’è¡Œãªã£ã¦ã„ã‚‹ãŸã‚ã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«ãƒ¢ãƒƒã‚¯ã«å·®ã—æ›¿ãˆã‚‹ã“ã¨ãŒé›£ã—ã„(`DatabaseMock`, `NameApiService`)ã€‚ã—ãŸãŒã£ã¦ã“ã‚Œã‚‰ã®è¿”å´å€¤ã‚’ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®é–¢æ•°ã‚’å‘¼ã³å‡ºã™éš›ã«åˆ¶å¾¡ã™ã‚‹ã“ã¨ãŒã§ããªã„ãŸã‚ã€ã‚«ãƒãƒ¬ãƒƒã‚¸ 100%ã®ãƒ†ã‚¹ãƒˆãŒæ›¸ã‘ãªã„ã€‚

### ä¾å­˜æ€§ã®æ³¨å…¥ã¨ã¯ä½•ã‹

ä¾å­˜æ€§ã®æ³¨å…¥ã¨ã¯ã€ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„é–¢æ•°ãŒä¾å­˜ã—ã¦ã„ã‚‹ä½•ã‹ï¼ˆä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€šä¿¡ã€ä»–ã®ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ etcï¼‰ã¨ã®é–¢ä¿‚ã‚’ç–Žçµåˆã«ã—ã€é–¢å¿ƒã®åˆ†é›¢ã‚’è¡Œã†ã“ã¨ã§ã‚ã‚‹ã€‚ãã®çµæžœã€ãƒ†ã‚¹ãƒˆã‹ã‚‰ä¾å­˜æ€§ã‚’æŽ’é™¤ã™ã‚‹ã“ã¨ãŒã§ãã€å®‰å®šã—ãŸçµæžœã‚’å¾—ã‚‰ã‚Œã‚‹ãƒ†ã‚¹ãƒˆã‚’å®Ÿè£…ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒå£«ã®çµåˆåº¦ã®å¼·ã•

å¼±ããªã‚‹ã€‚å®Ÿè£…ã®è©³ç´°ã«ä¾å­˜ã—ãªããªã‚‹ãŸã‚ã€‚

### å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€šä¿¡ãŒç™ºç”Ÿã™ã‚‹ã¨ã€ã©ã®ã‚ˆã†ãªãƒ‡ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ

- ãƒ†ã‚¹ãƒˆã®å®Ÿè¡ŒçµæžœãŒå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã®çŠ¶æ…‹ã«ä¾å­˜ã—ã¦ã—ã¾ã„ã€å®‰å®šã—ãŸãƒ†ã‚¹ãƒˆçµæžœãŒå¾—ã‚‰ã‚Œãªã„å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚

- å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å—ã‘å–ã‚‹ã®ã‚’å¾…ã¤ãŸã‚ã€ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ™‚é–“ãŒé•·ããªã‚‹ã€‚

- å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãªã©ã®ä¸è¦ãªãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¦ã—ã¾ã†ã‹ã‚‚ã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã—ã¦è¿·æƒ‘

### sumOfArray ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿

https://github.com/axtx4869/praha-challenge-templates/pull/1/commits/b6ad35c645e55785031f178835c85492a6565072

### Property Based Testing

**ãªãœã“ã®ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ãŒã‚³ãƒ¼ãƒ‰å“è³ªã‚’å‘ä¸Šã—ã¦ãã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã‹**

å°‘ãªã„è¨˜è¿°é‡ã§è†¨å¤§ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è‡ªå‹•ã§ç”Ÿæˆã—ã¦ãã‚Œã‚‹ãŸã‚ã€é–‹ç™ºè€…ãŒæ°—ã¥ã‹ãªã„ã‚ˆã†ãªã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®ç™ºè¦‹ã«å½¹ç«‹ã¤ã‹ã‚‰ã‹ã‚‰ã€‚ä»¥ä¸‹ã® fizzBuzz ã®ã‚ˆã†ãªã‚±ãƒ¼ã‚¹ãŒåˆ†ã‹ã‚Šã‚„ã™ã‹ã£ãŸã€‚[fast-check ã§ Property Based Testing ã‚’è©¦ã—ã¦ã¿ã‚‹
](https://zenn.dev/ryo_kawamata/articles/22d4408bd1f138)

**é€†ã«æŽ¡ç”¨ã—ãªã„æ–¹ãŒè‰¯ã„ã‚±ãƒ¼ã‚¹ã¯ã‚ã‚‹ã‹ï¼Ÿ**

ä¸æ˜Žãƒ»ãƒ»ãƒ»ã€‚

### å˜ä½“ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å¢—ã‚„ã—ã¦ã‚‚å¯èª­æ€§ã€ä¿å®ˆæ€§ã€å®Ÿè¡Œé€Ÿåº¦ãªã©ã«å•é¡ŒãŒèµ·ããªã„ã‚ˆã†å·¥å¤«ã§ãã‚‹ã“ã¨ã‚’ 3 ã¤

**å¯èª­æ€§**

- éŽåº¦ãª DRY ã‚’é¿ã‘ã¦ã€è„³å†…ãƒ¡ãƒ¢ãƒªã‚’æ¶ˆè²»ã—ãªã„ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãï¼ˆãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ä¸Šã§ã¯å¤‰æ•°åã‚’ãƒ™ã‚¿æ›¸ãï¼‰

å‚è€ƒ: [ãƒªãƒ¼ãƒ€ãƒ–ãƒ«ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
](https://logmi.jp/tech/articles/327449)

â€»ä¿å®ˆæ€§ã¨ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•

**å®Ÿè¡Œé€Ÿåº¦**

- ãƒ†ã‚¹ãƒˆã‚’åŒä¸€ãƒžã‚·ãƒ³ä¸Šã§ã‚‚ä¸¦åˆ—ã§å‹•ä½œã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚(Jest ã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¸¦åˆ—å®Ÿè¡Œã€ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¯é€æ¬¡å®Ÿè¡Œã•ã‚Œã¾ã™

å‚è€ƒ: [Jest ãƒ†ã‚¹ãƒˆã®ä¸¦è¡Œå®Ÿè¡Œã¨é€æ¬¡å®Ÿè¡Œã‚’ã¡ã‚ƒã‚“ã¨ç†è§£ã™ã‚‹](https://qiita.com/noriaki/items/5d800ea1813c465a0a11))

**ä¿å®ˆæ€§**

- ç„¡é§„ãªãƒ†ã‚¹ãƒˆã‚’æ›¸ã‹ãªã„ã€‚[Testing Trophy](https://kentcdodds.com/blog/the-testing-trophy-and-testing-classifications)ãªã©ã«å‰‡ã£ã¦ã€æ›¸ãã¹ããƒ†ã‚¹ãƒˆã ã‘æ›¸ãã€‚

## èª²é¡Œ 4

ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãŸã ãé–¢æ•°

https://github.com/axtx4869/praha-challenge-templates/blob/unit-test-with-jest/jestSample/furuno.ts

**Jest ã«é–¢ã™ã‚‹ã‚¯ã‚¤ã‚º**

Q1.  
`jest.fn()`ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«`mockName`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æä¾›ã—ã¦ã„ã‚‹ã€‚
ã“ã®ã€mockName ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã©ã®ã‚ˆã†ãªå ´é¢ã§å½¹ç«‹ã¤ã§ã—ã‚‡ã†ã‹ï¼Ÿ

```javascript
const myMockFn = jest.fn().mockReturnValue("mockReturnValue").mockName("mockNameã§ã™");
```

Q2.  
ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆã¯å½“ç„¶ PASS ã—ã¾ã›ã‚“ã€‚PASS ã•ã›ã‚‹ã«ã¯`expected`ã«ã©ã®ã‚ˆã†ãªå€¤ã‚’ä»£å…¥ã™ã‚Œã°ã‚ˆã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ

```javascript
describe("hogehoge", () => {
  it("mockImplementationOnceã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹å€‹æ•°ã‚’ä¸Šå›žã‚‹å ´åˆã©ã†ãªã‚‹ã‹ã®å•é¡Œ", () => {
    const mockFn = jest
      .fn()
      .mockImplementationOnce(() => "first call")
      .mockImplementationOnce(() => "second call");

    mockFn(); // 'first call'
    mockFn(); // 'second call'
    const actual = mockFn();
    const expected = "???";
    expect(autual).toBe(expected);
  });
});
```

Q3.  
PASS ã™ã‚‹ã®ã¯ã©ã‚Œã§ã—ã‚‡ã†ã‹ï¼Ÿã€€(undefined, null, NaN, 0, '')

```javascript
describe("expect.anything()ã®è©•ä¾¡å¯¾è±¡ã«é–¢ã—ã¦ã®å•é¡Œ", () => {
  it.each([undefined, null, NaN, 0, ""])("expect.anything()ã§%pã¯è©•ä¾¡ã§ãã‚‹ã‹", (arg) => {
    const mockFn = jest.fn((arg: any) => arg);
    mockFn(arg);
    expect(mockFn).toHaveBeenCalledWith(expect.anything());
  });
});
```
